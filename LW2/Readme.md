# Лабораторная работа №2
#### ВАЖНОЕ! Для корректной работы программы рекомендую ознакомиться с `requirements.txt`
---
`pip install -r requirements.txt`
### Описание программы
---
Программа Medical Database предназначена для управления данными о пациентах и их врачах с помощью графического интерфейса и базы данных MS SQL Server либо XML файлов. Реализован функционал поиска и удаления по ФИО, по адресу, по дате рождения и приема, по ФИО врача.

### Демонстрация работы программы
`Главное окно` программы представлено в виде двух таблиц с вкладкой `Patients/Doctors`, что позволяет быстро переключаться между соответствующими таблицами. Также на главном окне присутствуют различные кнопки управления (переключение режима отображения, переключения страниц) и инструменты для работы с базой (создание файла, открытие, добавление пациента/врача и т.д.). С целью повышения эффективности и удобства реализованы сочетания клавиш:
```
Ctrl + O - открыть файл
Ctrl + Q - выйти
Ctrl + N - новый файл
Ctrl + P - добавление пациента
Ctrl + D - добавление врача
```

![Главное окно программы](https://github.com/abushkevicaleksej/ppois-2-2024/assets/112658913/9dc3dc48-5d4f-4419-8814-5a67948d1634)
![Режим отображения "TreeView"](https://github.com/abushkevicaleksej/ppois-2-2024/assets/112658913/c82e25d0-e78d-4a38-a280-59988e2efd59)

 ### Работа с данными
 Программа поддерживает работу с двумя видами файлов - `.db` и `.xml`. Для добавления, удаления, поиска и т.д. обязательно необходимо открыть какой-либо файл, иначе программа сообшит о невозможности выполнения операций.
 ![image](https://github.com/abushkevicaleksej/ppois-2-2024/assets/112658913/f84168d5-6105-4fb2-8457-a93b230ba9a3)

### Добавление пациента/врача
Как описывалось выше, для добавления пациента/врача необходимо открыть source-файл, а затем нажать соответствующую комбинацию клавиш, либо вручную нажать `Add Patient`/`Add Doctor`. Открывается окно, в котором пользователь может ввести данные о пациенте. Важно отметить, что если в базе нету врачей, то пациента добавить нельзя, так как пациенты и врачи связаны.
![image](https://github.com/abushkevicaleksej/ppois-2-2024/assets/112658913/a48f44ee-8228-4bc0-a285-9416be2d0bad)

В данной процедуре добавления обработаны такие ошибки, как:
```
- дата рождения не может быть позже даты приёма
- фамилия не может содержать цифры и иные символы, не принадлежащие к буквам латинского алфавита
- пациенты не могут добавиться в базу, если в самой базе нету врачей
- нельзя оставлять пустые поля
```
![image](https://github.com/abushkevicaleksej/ppois-2-2024/assets/112658913/99e23d79-8ca6-41f5-944e-09a0c3e0e9fc)
Механизм добавления врача практически идентичен механизму добавления пациента.

### Удаление пациента
В данной программе реализована логика удаления пациента. Удалять мы можем по заявленным критериям. Критерии могут быть выбраны все, либо выбраны поодиночке - в общем, пользователь сам выбирает необходимый критерий удаления пациента. Вся логика и виджеты, а также обработка ошибок идентичны логике добавления пациента. При успешном удалении выводится окно успеха. При неуспешном сообщается о несуществовании такой записи в таблице. Пустые поля оставлять нельзя. После успешного либо неуспешного удаления поля ввода критерия обнуляются.
![image](https://github.com/abushkevicaleksej/ppois-2-2024/assets/112658913/d161a8cd-0f84-408a-a05e-28056bd4df68)

![image](https://github.com/abushkevicaleksej/ppois-2-2024/assets/112658913/929545e7-9bc9-44f4-bccb-b8b4cdd3461c)
![image](https://github.com/abushkevicaleksej/ppois-2-2024/assets/112658913/f2af952e-b7f7-49f9-adc9-d8203c4ede38)

### Поиск пациента
В данной программе реализована логика поиска пациента. Она практически идентична логике удаления, за исключением того, что присутствует кнопка `Reset`, которая обнуляет критерии поиска пациентов. Результаты поиска пациентов отображаются в отдельном окне, где указывается, сколько пациентов было найдено. Если запрашиваемых пациентов нет, то выводится сообщение о неудачном поиске.
![image](https://github.com/abushkevicaleksej/ppois-2-2024/assets/112658913/5acd38b7-106a-45de-a604-6bae82b89527)
![image](https://github.com/abushkevicaleksej/ppois-2-2024/assets/112658913/5312d234-c4e1-4590-ac4c-d83d1d21a3ac)

